---
import BaseLayout from '../../layouts/BaseLayout.astro';
import SectionTitle from '../../components/SectionTitle.astro';
import { workItems } from '../../data/work';
import type { WorkItem } from '../../data/work';
import { siteConfig } from '../../config/siteConfig';

export function getStaticPaths() {
  return workItems.map((project) => ({
    params: { slug: project.slug },
    props: { project },
  }));
}

const { project } = Astro.props;
---

<BaseLayout
  title={`${project.title} — ${siteConfig.name}`}
  description={`${project.title} case study placeholder for ${siteConfig.name}.`}
>
  <article class="px-6 pb-16 pt-10 sm:pt-12">
    <div class="mx-auto max-w-5xl space-y-6">
      <SectionTitle
        eyebrow="case study"
        title={project.title}
        subtitle="Placeholder narrative — replace with real content."
      />
      <div class="overflow-hidden rounded-3xl border border-white/10 bg-white/5 shadow-[0_20px_60px_rgba(0,0,0,0.35)]">
        <div
          class="h-64 bg-cover bg-center"
          style={`background-image:url(${project.cover})`}
          role="img"
          aria-label={`${project.title} cover`}
        />
      </div>
      <div class="grid gap-6 md:grid-cols-3">
        <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
          <p class="text-xs uppercase tracking-[0.18em] text-muted">Role</p>
          <p class="mt-2 text-primary">{project.role}</p>
        </div>
        <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
          <p class="text-xs uppercase tracking-[0.18em] text-muted">Tools</p>
          <p class="mt-2 text-primary">{project.tools.join(', ')}</p>
        </div>
        <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
          <p class="text-xs uppercase tracking-[0.18em] text-muted">Tags</p>
          <p class="mt-2 text-primary">{project.tags.join(', ')}</p>
        </div>
      </div>

      <div class="space-y-5 text-base text-muted">
        <div>
          <h3 class="font-display text-xl text-white">Problem</h3>
          <p class="mt-2">{project.problem}</p>
        </div>
        <div>
          <h3 class="font-display text-xl text-white">Process</h3>
          <p class="mt-2">{project.process}</p>
        </div>
        <div>
          <h3 class="font-display text-xl text-white">Challenges</h3>
          <p class="mt-2">{project.challenges}</p>
        </div>
        <div>
          <h3 class="font-display text-xl text-white">Outcome</h3>
          <p class="mt-2">{project.outcome}</p>
        </div>
        <div>
          <h3 class="font-display text-xl text-white">Impact</h3>
          <p class="mt-2">{project.impact}</p>
        </div>
      </div>

      <div class="flex items-center justify-between pt-6">
        <a href="/work" class="text-sm text-primary transition hover:text-white">← Back to Work</a>
        <a
          href={siteConfig.links.email}
          class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm font-semibold text-primary transition hover:border-accent-primary/60 hover:text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary"
        >
          Discuss this project
        </a>
      </div>
    </div>
  </article>
</BaseLayout>
